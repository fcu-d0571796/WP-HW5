<!DOCTYPE html>
<html>
  <head>
    <style>
      #map {
        height: 700px;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 13,
          center: {lat:24.178955 , lng: 120.646873}
        });
        setMarkers_p(map);
        setMarkers_g(map);
      }
      var postoffice = [
        ['東海大學郵局(臺中5支)',24.179034,120.601637,'臺中市西屯區臺灣大道4段1727號(東海大學內)'],
        ['臺中逢甲郵局(臺中25支)',24.175274,120.649135,'臺中市西屯區河南路2段268號'],
        ['臺中西屯郵局(臺中30支)',24.176695,120.637655,'臺中市西屯區黎明路3段130號'],
        ['臺中何厝郵局(臺中44支)',24.164629,120.654202,'臺中市西屯區青海路1段83號'],
        ['臺中工業區郵局(臺中46支)',24.169450,120.606562,'臺中市西屯區工業區六路10號'],
        ['臺中榮總郵局(臺中52支)',24.183960,120.604836,'臺中市西屯區臺灣大道4段1650號(台中榮總內)'],
        ['臺中永安郵局(臺中61支)',24.190483,120.612213,'臺中市西屯區永安里西屯路3段166-80號'],
        ['臺中大隆路郵局(臺中67支)',24.156537,120.652866,'臺中市西屯區大隆路60、62號'],
        ['臺中福安郵局(臺中69支)',24.183414,120.618611,'臺中市西屯區福順路318號'],
        ['臺中第3郵政代辦所',24.166456,120.643244,'臺中市西屯區臺灣大道3段366號1樓'],
        ['臺中第6郵政代辦所',24.208606,120.614090,'臺中市西屯區中科路1號']
      ];
      //postoffice
      function setMarkers_p(map) {
        var image = {
          url: 'http://a4.qpic.cn/psb?/V12y9VqY28m3YH/5dbVfTOlQSYODqgfroJLNkXpmdUCUjIGkFjz*CyMPQU!/m/dPMAAAAAAAAAnull&bo=IAAgAAAAAAADByI!&rf=photolist&t=5',
          size: new google.maps.Size(32,32)
        };
        var info = new google.maps.InfoWindow();
        for (var i = 0; i < postoffice.length; i++) {
          var post = postoffice[i];
          var marker = new google.maps.Marker({
            position: {lat: post[1], lng: post[2]},
            map: map,
            icon: image
          });
          marker.addListener('mouseover',(function(marker,i){
            return function(){
              info.setContent(postoffice[i][0] + "<br/><br/>" + postoffice[i][3]);
              info.open(map,marker);
            }
          })(marker,i));
        }
      }
      //gasstation
      var gas = [
        ['台灣中油 台中工業區站',24.183420,120.614397,'台中市西屯區台灣大道四段1047號'],
        ['台灣中油(加盟店)-大度山嘟嘟加油站',24.184396,20.590650,'台中市西屯區台灣大道五段142號'],
        ['台灣中油(加盟店)',24.183207,120.601055,'台中市西屯區台灣大道四段1832號'],
        ['台灣中油 安和加油站',24.166240,120.618923,'台中市西屯區安和路51-8號'],
        ['台灣中油',24.192648,120.623166,'台中市西屯區福雅路300號'],
        ['台灣中油 安祥站',24.162496,120.628183,'台中市西屯區環中路三段800號'],
        ['台湾中油 光凰站',24.180471,120.632521,'台中市西屯區福科路110號'],
        ['台灣中油 青海站',24.171337,120.643927,'台中市西屯區青海路二段211號'],
        ['台湾中油 文心站',24.162863,120.650098,'台中市西屯區文心路三段2號'],
        ['台灣中油 河南路站',24.172097,120.645468,'台中市西屯區河南路二段341號'],
        ['台灣中油 安和加油站',24.166191,120.618897,'台中市西屯區安和路51-8號'],
        ['台灣中油 文華站',24.171504,120.659831,'台中市西屯區文心路三段187號'],
        ['台灣中油 恩光中清交流道站',24.200732,120.656973,'台中市西屯區環中路一段2490號'],
        ['台灣中油 中清站',24.202153,120.654406,'台中市西屯區中清路三段150號'],
        ['台灣中油',24.205779,120.629008,'台中市西屯區福雅路693號'],
        ['台灣中油',24.198331,120.642636,'台中市西屯區廣福路191號'],
        ['台灣中油',24.201971,120.670136,'台中市西屯區環中路一段1686號'],
        ['台灣中油',24.174954,120.604319,'台中市西屯區工業區八路2號'],
        ['台灣中油 中科加油站',24.202429,120.610161,'台中市西屯區東大路一段1220號'],
        ['北基加油站',24.187855,120.618503,'台中市西屯區福康路199號'],
        ['北基加油站 中港站',24.161841,120.650529,'台中市西屯區台灣大道二段917號'],
        ['台塑石油 環中站',24.179383,120.634407,'台中市西屯區環中路二段1286號'],
        ['台塑石油 朝馬站',24.170542,120.632088,'台中市西屯區環中路三段96號']
        ['台亞石油',24.173981,120.659932,'台中市西屯區河南路二段35號'],
        ['台亞石油',24.166018,120.618545,'台中市西屯區安和路49之5號'],
        ['员村加油站',24.199850,120.655386,'台中市西屯區中清路三段1號'],
        ['福懋加油站',24.183730,120.629852,'台中市西屯區西屯路三段90之28號'],
        ['全國加油站',24.182453,120.633629,'台中市西屯區西屯路三段77之3號'],
        ['統一精工速邁樂加油站',24.195173,120.644251,'台中市西屯區環中路二段698號'],
      ]
      function setMarkers_g(map){
        var image = {
          url: 'http://a4.qpic.cn/psb?/V12y9VqY28m3YH/ZeWxruwxL4nCzTSRr0TwW251fgCQdc0Dau9zGCuBuoY!/m/dD8BAAAAAAAAnull&bo=IAAiAAAAAAADByA!&rf=photolist&t=5',
          size: new google.maps.Size(32,32)
        };
        var info = new google.maps.InfoWindow();
        for (var i = 0; i < gas.length; i++) {
          var g = gas[i];
          var marker = new google.maps.Marker({
            position: {lat: g[1],lng: g[2]},
            map: map,
            icon: image
          });
          marker.addListener('mouseover',(function(marker,i){
            return function(){
              info.setContent(gas[i][0] + "<br/><br/>" +gas[i][3]);
              info.open(map,marker);
            }
          })(marker,i));
      }
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBA1b4h9FlOZncueYqQnL1EXtkN7MlGDzI&callback=initMap">
    </script>
  </body>
</html>